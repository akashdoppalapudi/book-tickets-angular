<div class="page-container">
  <main>
    <div class="filter-dropdowns">
      <app-city-dropdown
        [shows]="shows"
        (citySelectedEvent)="onCitySelection($event)"
      ></app-city-dropdown>
      <app-movie-dropdown
        [shows]="shows"
        (movieSelectedEvent)="onMovieSelection($event)"
      ></app-movie-dropdown>
      <app-theatre-dropdown
        [shows]="shows"
        (theatreSelectedEvent)="onTheatreSelection($event)"
      ></app-theatre-dropdown>
      <app-show-dropdown
        [shows]="shows"
        (showSelectedEvent)="onShowSelection($event)"
      ></app-show-dropdown>
      <app-seats-dropdown
        [shows]="shows"
        (seatsSelectedEvent)="onSeatsSelection($event)"
      ></app-seats-dropdown>
    </div>
    <div class="seat-selector">
      <app-show-description
        [shows]="shows"
        *ngIf="selectedShow !== 0"
        [selectedShow]="selectedShow"
      ></app-show-description>
      <app-seat-layout
        [shows]="shows"
        *ngIf="selectedShow !== 0 && selectedSeatsNumber !== 0"
        [selectedShow]="selectedShow"
        [selectedSeatsNumber]="selectedSeatsNumber"
        (onSelectionChange)="updateSelectedSeats($event)"
      ></app-seat-layout>
      <button
        *ngIf="selectedShow !== 0 && selectedSeatsNumber !== 0"
        (click)="onSeatsSubmit()"
        [disabled]="selectedSeats.length != selectedSeatsNumber"
      >
        Book Tickets
      </button>
    </div>
  </main>
</div>
